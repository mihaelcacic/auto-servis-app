services:
  backendserver:
    build:
      context: ./backend
      dockerfile: backend.dockerfile
    image: backend-service:latest
    container_name: backend-service
    ports:
      - "127.0.0.2:8080:8080"

  frontend:
    env_file:
      - .env.dev
    environment:
      - DOCKER_ENV=true
    build:
      context: ./frontend
      dockerfile: frontend.Dockerfile
      args:
        - PORT=${WEB_PORT}
    image: web-service:latest
    container_name: frontend-service
    ports:
      - "${LOCAL_DEV_HOST}:${WEB_PORT}:${WEB_PORT}"
    restart: unless-stopped
